<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>handex</title>
        <!-- CSS  -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <style>
            .upload-section {
            margin: 50px auto;
            border: 1px solid #c3bfbf;
            padding: 20px;
            border-radius: 5px;
            min-height: 400px;
            position: relative;
            }
            .upload-section .btn {
            border-radius: 25px;
            height: 40px;
            line-height: 40px;
            }
            .btn.changecolor {
            background-color: #26a69a;
            }
            .file-field input.file-path {
            border: none;
            }
            .input-field input[type=text].valid {
            border-bottom: none !important;
            box-shadow: none !important;
            }
            .small-section {
            max-width: 800px;
            width:100%;
            margin: auto;
            }
            .up-info h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 0px;
            }
            .up-info {
            position: absolute;
            bottom: 20px;
            }
            .up-info p {
            color: #ababab;
            font-size: 12px;
            }
            .Download input#upload {
            position: relative;
            }
            .Download {
            max-width: 165px;
            }
            #download-link {
            display: none;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="row small-section">
                <form action="#">
                    <div class="col s12 m6">
                        <div class="upload-section">
                            <div class="file-field input-field">
                                <div class="btn changecolor">
                                    <span>Download</span>
                                    <!--<input type="file">-->
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text">
                                </div>
                            </div>
                            <div class="up-info">
                                <h2>Self-assessment</h2>
                                <p>Generated by Handex, Must be mailed to Euler mermes.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col s12 m6">
                        <div class="upload-section">
                            <div class="file-field input-field">
                                <a href="" id="download-link" download>Download</a>
                                <div class="btn upload-req">
                                    <span>Upload Required</span>
                                    <input id="upload" type="file">
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text">
                                </div>
                            </div>
                            <div class="up-info">
                                <h2>Annual Report (2018)</h2>
                                <p>Your latest annual report.</p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!--  Scripts-->
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="js/materialize.js"></script>  
        <script>
            jQuery("document").ready(function(){
            		jQuery("#upload").change(function(ee) {
            readURL(this);
            			/*if( jQuery("#upload").get(0).files.length > 0 ){
            				
            
            				//console.log("file selected");
            				jQuery(".upload-req").addClass("changecolor Download");
            				jQuery(".upload-req span").text("Download");
            				 //alert('Selected file: ' + this.value);
            			} else {
            				jQuery(".upload-req").removeClass("changecolor Download");
            			}*/
            
            		});	
            });
            
            
            function readURL(input) {
                  if (input.files && input.files[0]) {
            	jQuery(".upload-req").addClass("changecolor Download");
            	jQuery(".upload-req span").text("Download");
                      var reader = new FileReader();
                      
                      reader.onload = function (e) {
                      	//alert(e.target.result)
            
                          $('#download-link').attr('href', e.target.result);
                      }
                      
                      reader.readAsDataURL(input.files[0]);
                  }
              }
            
              $(".upload-section").on("click", ".Download",  function () {
              	//alert('ala: '+$('#download-link').attr('href'));
              	$('#download-link')[0].click();
              });

              $('#download-link').click(function (argument) {
              	console.log('clickeedd')
              });
            
            
        </script>
    </body>
</html>